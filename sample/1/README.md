iex(1)> StoryTeller.Universe.play_n_turns(5) |> StoryTeller.Universe.print_story()

```
[info] ▶️ Turn 1 of 5
[info] 🌀 Starting new story with opening scene...
[info] 🌅 Generating opening scene...
[debug] 🔍 Attempting to extract JSON block...
[info] ✅ JSON block extracted successfully.
[info] 🎭 Gerando ações para a cena em Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio....
[debug] 📝 Ações geradas: ``json
{
  "scene": {
    "description": "Drakaw, sentindo o peso da solidão e o eco de sua fuga, ajusta a alça de seu alaúde nas costas. Ele sente a familiar melodia de uma antiga canção de viagem borbulhando em sua mente. Um movimento sutil nas sombras da floresta abaixo chama sua atenção. Seu objetivo imediato é garantir sua segurança e talvez encontrar um lugar para se abrigar antes que o dia avance e atraia a atenção indesejada.",
    "location": "Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio.",
    "players": [
      {
        "name": "Drakaw",
        "race": "Meio-dragão",
        "class": "Bardo",
        "backstory": "Fugiu do Circo de Lunei após uma apresentação particularmente desastrosa, onde sua música, acidentalmente, transformou o público em sapos por uma noite. Agora, busca um refúgio e talvez um novo propósito longe das jaulas e dos aplausos forçados.",
        "objective": "Encontrar um local seguro para descansar e avaliar sua situação. Investigar qualquer movimento suspeito que possa representar uma ameaça ou uma oportunidade."
      }
    ],
    "actions": [
      {
        "player": "Drakaw",
        "action": "Desce cuidadosamente do penhasco em direção ao vale, mantendo-se nas áreas mais sombreadas e usando seu olfato aguçado para detectar sinais de perigo ou presença.",
        "intent": "Mover-se em direção ao vale para procurar abrigo e, ao mesmo tempo, observar o que chamou sua atenção nas sombras."
      }
    ]
  }
}
``
[debug] 🔍 Attempting to extract JSON block...
[info] ✅ JSON block extracted successfully.
[debug] 🧍 Drakaw -> 
[info] ✅ Ações geradas com sucesso para 1 personagem(ns).
[info] ✅ Opening scene parsed and actions made.
[info] ▶️ Turn 2 of 5
[info] 🔁 Advancing story with new turn.
[info] ➡️ Generating next scene from current scene at Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio....
[debug] 🔍 Attempting to extract JSON block...
[info] ✅ JSON block extracted successfully.
[info] ✅ Next scene generated at Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio.
[info] 🎭 Gerando ações para a cena em Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio....
[debug] 📝 Ações geradas: ``json
{
  "scene": {
    "description": "O Corvo Ancião, com um movimento deliberado de sua cabeça emplumada, solta outro grasnido, desta vez mais um chamado do que um alerta. Ele abre suas asas vastas, cada pena um pedaço de noite solidificada, e alça voo, planando em círculos lentos sobre o penhasco, como se convidasse Drakaw a segui-lo. Drakaw, com a curiosidade atiçada pela aparição da criatura incomum e pelo tom de sua comunicação, para de tocar sua gaita.",
    "location": "Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio.",
    "players": [
      {
        "name": "Drakaw",
        "race": "Meio-dragão",
        "class": "Bardo",
        "backstory": "Fugiu do Circo de Lunei após uma apresentação particularmente desastrosa, onde sua música, acidentalmente, transformou o público em sapos por uma noite. Agora, busca um refúgio e talvez um novo propósito longe das jaulas e dos aplausos forçados.",
        "action": "Para de tocar a gaita de foles e observa o Corvo Ancião, ponderando a natureza do chamado."
      }
    ],
    "npcs": [
      {
        "name": "Corvo Ancião",
        "race": "Ave Mágica",
        "description": "Um corvo enorme, com penas tão negras que parecem absorver a luz, e olhos que brilham com uma inteligência ancestral. Ele está empoleirado em um rochedo próximo, observando Drakaw com curiosidade calculista.",
        "action": "Chama Drakaw e alça voo, planando em círculos como um convite."
      }
    ]
  }
}
``
[debug] 🔍 Attempting to extract JSON block...
[info] ✅ JSON block extracted successfully.
[debug] 🧍 Drakaw -> Para de tocar a gaita de foles e observa o Corvo Ancião, ponderando a natureza do chamado.
[info] ✅ Ações geradas com sucesso para 1 personagem(ns).
[info] 🎭 Actions taken in scene at Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio.
[info] ▶️ Turn 3 of 5
[info] 🔁 Advancing story with new turn.
[info] ➡️ Generating next scene from current scene at Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio....
[debug] 🔍 Attempting to extract JSON block...
[info] ✅ JSON block extracted successfully.
[info] ✅ Next scene generated at Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio.
[info] 🎭 Gerando ações para a cena em Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio....
[debug] 📝 Ações geradas: Entendido! A partir de agora, além de gerar a próxima cena, focarei em manter a coerência com os objetivos implícitos e explícitos dos personagens, bem como suas personalidades.

Objetivos:

*   **Drakaw:**
    *   **Explícito:** Fugiu do Circo de Lunei, buscando refúgio e um novo propósito. Ele é um bardo, então sua música e sua capacidade de observação são suas principais ferramentas.
    *   **Implícito:** Curiosidade sobre o chamado do Corvo Ancião, busca por algo interessante ou significativo em sua nova vida longe do circo. Ele provavelmente é um pouco impulsivo, mas também cauteloso após sua experiência traumática.

*   **Corvo Ancião:**
    *   **Explícito:** Não há um objetivo explícito definido para ele ainda, mas seu comportamento sugere que ele tem um propósito ao atrair a atenção de Drakaw.
    *   **Implícito:** Pode ser um mensageiro, um guardião, um guia, ou alguém que busca ajuda ou companhia. Sua inteligência ancestral sugere que ele tem um plano ou um conhecimento que quer compartilhar.

Com isso em mente, vamos à próxima cena:

``json
{
  "scene": {
    "description": "Drakaw desce o penhasco com uma agilidade surpreendente para seu tamanho, seus pés meio-dragônicos encontrando apoios seguros nas rochas escarpadas. O Corvo Ancião paira alguns metros à frente, esperando que ele se aproxime. Ao chegarem à base das montanhas, a paisagem se abre em um vale coberto por uma névoa opaca e sussurrante. O ar aqui é mais denso, com um cheiro peculiar de ozônio e flores exóticas. O corvo faz um voo rasante em direção a uma fenda estreita entre duas árvores ancestrais.",
    "location": "Base das Montanhas Sussurrantes, entrada do Vale do Silêncio.",
    "players": [
      {
        "name": "Drakaw",
        "race": "Meio-dragão",
        "class": "Bardo",
        "backstory": "Fugiu do Circo de Lunei após uma apresentação particularmente desastrosa, onde sua música, acidentalmente, transformou o público em sapos por uma noite. Agora, busca um refúgio e talvez um novo propósito longe das jaulas e dos aplausos forçados.",
        "action": "Desce o penhasco seguindo o Corvo Ancião, observando atentamente o novo ambiente e o comportamento da ave."
      }
    ],
    "npcs": [
      {
        "name": "Corvo Ancião",
        "race": "Ave Mágica",
        "description": "Um corvo enorme, com penas tão negras que parecem absorver a luz, e olhos que brilham com uma inteligência ancestral.",
        "action": "Guia Drakaw em direção a uma fenda entre árvores ancestrais."
      }
    ]
  }
}
``
[debug] 🔍 Attempting to extract JSON block...
[info] ✅ JSON block extracted successfully.
[debug] 🧍 Drakaw -> Desce o penhasco seguindo o Corvo Ancião, observando atentamente o novo ambiente e o comportamento da ave.
[info] ✅ Ações geradas com sucesso para 1 personagem(ns).
[info] 🎭 Actions taken in scene at Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio.
[info] ▶️ Turn 4 of 5
[info] 🔁 Advancing story with new turn.
[info] ➡️ Generating next scene from current scene at Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio....
[debug] 🔍 Attempting to extract JSON block...
[info] ✅ JSON block extracted successfully.
[info] ✅ Next scene generated at Trilha na floresta em direção ao Vale do Silêncio.
[info] 🎭 Gerando ações para a cena em Trilha na floresta em direção ao Vale do Silêncio....
[debug] 📝 Ações geradas: Compreendido. Para manter a dinâmica e a coerência, vou assumir que meus objetivos e os do Corvo Ancião serão moldados pelas ações que você, como jogador de Drakaw, decidir tomar. No entanto, posso inferir alguns objetivos iniciais e comportamentos prováveis:

**Objetivos Iniciais e Comportamentos:**

*   **Drakaw (Meio-dragão, Bardo):**
    *   **Objetivo Principal:** Encontrar um lugar seguro e um novo propósito após sua fuga do circo. Ele busca evitar situações caóticas e indesejadas, mas também pode ser impulsionado por sua natureza curiosa e artística.
    *   **Comportamento Provável:** Curioso sobre o que o Corvo Ancião o está guiando, mas também cauteloso. Provavelmente usará sua inteligência e talvez sua música (se apropriado) para interagir com o ambiente e quaisquer seres que encontrar. Sua experiência no circo pode tê-lo deixado um pouco desconfiado, mas também aberto a novas experiências. Ele pode estar à procura de inspiração para suas futuras canções.

*   **Corvo Ancião (Ave Mágica):**
    *   **Objetivo Principal:** Guiar Drakaw para um local ou encontro específico. A natureza desse objetivo é desconhecida para Drakaw neste momento, mas sugere um propósito maior ou uma missão. Pode ser um teste, uma introdução a algo novo, ou um aviso.
    *   **Comportamento Provável:** Liderança silenciosa e enigmática. Se comunica através de gestos e sons, e sua inteligência ancestral sugere que ele tem um plano. Ele não parece hostil, mas sim observador e intencional em suas ações.

Com essa perspectiva em mente, a próxima cena será gerada com base nessas premissas, antecipando como Drakaw poderia reagir ao que o Corvo Ancião está apresentando.

---

**Agora, aguardando sua próxima jogada! O que Drakaw faz ao chegar à clareira luminosa?**
[debug] 🔍 Attempting to extract JSON block...
[warning] ⚠️ No JSON block found. Returning original text as error.
[warning] ⚠️ Não foi possível extrair JSON de ações. Usando texto alternativo.
[info] 🎭 Actions taken in scene at Trilha na floresta em direção ao Vale do Silêncio.
[info] ▶️ Turn 5 of 5
[info] 🔁 Advancing story with new turn.
[info] ➡️ Generating next scene from current scene at Trilha na floresta em direção ao Vale do Silêncio....
[debug] 🔍 Attempting to extract JSON block...
[info] ✅ JSON block extracted successfully.
[info] ✅ Next scene generated at Clareira Luminosa na Floresta Antiga.
[info] 🎭 Gerando ações para a cena em Clareira Luminosa na Floresta Antiga....
[debug] 📝 Ações geradas: Você está absolutamente certo em me lembrar de considerar os objetivos e a lógica de cada personagem! Às vezes, na ânsia de descrever a cena, podemos perder o fio condutor das motivações.

Baseado nas descrições e ações anteriores:

*   **Drakaw (Meio-dragão, Bardo):**
    *   **Objetivo:** Fuga, refúgio, novo propósito. Busca por algo que o inspire ou o ajude a encontrar seu lugar no mundo após o trauma do circo. Ele é um bardo, então arte, música, inspiração e talvez um toque de magia estão em seu radar. Ele é curioso, mas cauteloso, e sua experiência o deixou um pouco desconfiado.
    *   **Comportamento Provável:** Diante do orbe brilhante, seu instinto artístico e de bardo será aguçado. Ele verá o orbe como uma fonte potencial de inspiração, um mistério a ser explorado, ou talvez até mesmo uma ferramenta com propriedades mágicas que ele possa entender ou usar. A natureza da luz e a energia emanando do objeto o atrairão. Ele pode querer tocar o orbe, cantar para ele, ou tentar discernir sua natureza através de seus sentidos.

*   **Corvo Ancião (Ave Mágica):**
    *   **Objetivo:** Guiar Drakaw. A razão é incerta, mas ele está claramente servindo como um elo ou mensageiro para algo maior. Ele parece ter um plano.
    *   **Comportamento Provável:** Ele trouxe Drakaw até aqui. Agora, ele observará a reação de Drakaw ao orbe. Se Drakaw se aproximar ou interagir com o orbe, o corvo pode emitir um grasnido de encorajamento, ou um aviso sutil, dependendo da ação de Drakaw. Ele pode estar testando a aptidão de Drakaw, ou simplesmente supervisionando a entrega de uma mensagem ou objeto. Ele não interferirá diretamente, a menos que Drakaw esteja em perigo imediato que possa comprometer o propósito do corvo.

Com essa reafirmação em mente, a próxima cena levará em conta a provável reação de Drakaw à visão do orbe, e a observação silenciosa do Corvo Ancião.

---

**Agora, aguardando sua próxima jogada! O que Drakaw faz ao chegar à clareira luminosa e se deparar com o orbe brilhante e o Corvo Ancião observando-o?**
[debug] 🔍 Attempting to extract JSON block...
[warning] ⚠️ No JSON block found. Returning original text as error.
[warning] ⚠️ Não foi possível extrair JSON de ações. Usando texto alternativo.
[info] 🎭 Actions taken in scene at Clareira Luminosa na Floresta Antiga.
[info] 🏁 Story complete. 5 turns played.
```

===== TURNO 1 =====

📍 Local: Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio.

📖 Cena:
A luz dourada do sol nascente rompe a névoa espessa que envolve as Montanhas Sussurrantes. No topo de um penhasco escarpado, com o vento a chicotear sua capa escura, Drakaw observa o vale adormecido abaixo. O cheiro úmido da terra e o eco distante de um riacho murmurante preenchem o ar.


🧙 Personagens:
- Drakaw (Meio-dragão Bardo)
  🎒 Background: Fugiu do Circo de Lunei após uma apresentação particularmente desastrosa, onde sua música, acidentalmente, transformou o público em sapos por uma noite. Agora, busca um refúgio e talvez um novo propósito longe das jaulas e dos aplausos forçados.

🎭 Ações:
- Drakaw: 

===== TURNO 2 =====

📍 Local: Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio.

📖 Cena:
Drakaw, com uma melodia suave e crescente em sua gaita de foles, tenta capturar a beleza da paisagem. A música parece se misturar com o próprio vento, um lamento agridoce que ecoa entre os picos rochosos. De repente, um grasnido áspero e inconfundível corta o silêncio matinal. Não é o som de um pássaro comum.

🎭 Ações:
- Drakaw: Para de tocar a gaita de foles e observa o Corvo Ancião, ponderando a natureza do chamado.

===== TURNO 3 =====

📍 Local: Pináculo das Montanhas Sussurrantes, com vista para o Vale do Silêncio.

📖 Cena:
O Corvo Ancião inclina a cabeça, e seus olhos penetrantes parecem avaliar Drakaw. Ele emite outro grasnido, desta vez mais baixo, quase como um convite. Em seguida, com um bater de asas poderoso que levanta poeira e pequenas pedras, ele salta do rochedo e mergulha em direção ao vale. Parece que espera que Drakaw o siga.

🎭 Ações:
- Drakaw: Desce o penhasco seguindo o Corvo Ancião, observando atentamente o novo ambiente e o comportamento da ave.

===== TURNO 4 =====

📍 Local: Trilha na floresta em direção ao Vale do Silêncio.

📖 Cena:
Compreendido. Para manter a dinâmica e a coerência, vou assumir que meus objetivos e os do Corvo Ancião serão moldados pelas ações que você, como jogador de Drakaw, decidir tomar. No entanto, posso inferir alguns objetivos iniciais e comportamentos prováveis:

**Objetivos Iniciais e Comportamentos:**

*   **Drakaw (Meio-dragão, Bardo):**
    *   **Objetivo Principal:** Encontrar um lugar seguro e um novo propósito após sua fuga do circo. Ele busca evitar situações caóticas e indesejadas, mas também pode ser impulsionado por sua natureza curiosa e artística.
    *   **Comportamento Provável:** Curioso sobre o que o Corvo Ancião o está guiando, mas também cauteloso. Provavelmente usará sua inteligência e talvez sua música (se apropriado) para interagir com o ambiente e quaisquer seres que encontrar. Sua experiência no circo pode tê-lo deixado um pouco desconfiado, mas também aberto a novas experiências. Ele pode estar à procura de inspiração para suas futuras canções.

*   **Corvo Ancião (Ave Mágica):**
    *   **Objetivo Principal:** Guiar Drakaw para um local ou encontro específico. A natureza desse objetivo é desconhecida para Drakaw neste momento, mas sugere um propósito maior ou uma missão. Pode ser um teste, uma introdução a algo novo, ou um aviso.
    *   **Comportamento Provável:** Liderança silenciosa e enigmática. Se comunica através de gestos e sons, e sua inteligência ancestral sugere que ele tem um plano. Ele não parece hostil, mas sim observador e intencional em suas ações.

Com essa perspectiva em mente, a próxima cena será gerada com base nessas premissas, antecipando como Drakaw poderia reagir ao que o Corvo Ancião está apresentando.

---

**Agora, aguardando sua próxima jogada! O que Drakaw faz ao chegar à clareira luminosa?**

⚠️  Nenhuma ação registrada.

===== TURNO 5 =====

📍 Local: Clareira Luminosa na Floresta Antiga.

📖 Cena:
Você está absolutamente certo em me lembrar de considerar os objetivos e a lógica de cada personagem! Às vezes, na ânsia de descrever a cena, podemos perder o fio condutor das motivações.

Baseado nas descrições e ações anteriores:

*   **Drakaw (Meio-dragão, Bardo):**
    *   **Objetivo:** Fuga, refúgio, novo propósito. Busca por algo que o inspire ou o ajude a encontrar seu lugar no mundo após o trauma do circo. Ele é um bardo, então arte, música, inspiração e talvez um toque de magia estão em seu radar. Ele é curioso, mas cauteloso, e sua experiência o deixou um pouco desconfiado.
    *   **Comportamento Provável:** Diante do orbe brilhante, seu instinto artístico e de bardo será aguçado. Ele verá o orbe como uma fonte potencial de inspiração, um mistério a ser explorado, ou talvez até mesmo uma ferramenta com propriedades mágicas que ele possa entender ou usar. A natureza da luz e a energia emanando do objeto o atrairão. Ele pode querer tocar o orbe, cantar para ele, ou tentar discernir sua natureza através de seus sentidos.

*   **Corvo Ancião (Ave Mágica):**
    *   **Objetivo:** Guiar Drakaw. A razão é incerta, mas ele está claramente servindo como um elo ou mensageiro para algo maior. Ele parece ter um plano.
    *   **Comportamento Provável:** Ele trouxe Drakaw até aqui. Agora, ele observará a reação de Drakaw ao orbe. Se Drakaw se aproximar ou interagir com o orbe, o corvo pode emitir um grasnido de encorajamento, ou um aviso sutil, dependendo da ação de Drakaw. Ele pode estar testando a aptidão de Drakaw, ou simplesmente supervisionando a entrega de uma mensagem ou objeto. Ele não interferirá diretamente, a menos que Drakaw esteja em perigo imediato que possa comprometer o propósito do corvo.

Com essa reafirmação em mente, a próxima cena levará em conta a provável reação de Drakaw à visão do orbe, e a observação silenciosa do Corvo Ancião.

---

**Agora, aguardando sua próxima jogada! O que Drakaw faz ao chegar à clareira luminosa e se deparar com o orbe brilhante e o Corvo Ancião observando-o?**

⚠️  Nenhuma ação registrada.

===== FIM DA HISTÓRIA =====

:ok
